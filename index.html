<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>MA→GCC</title>
  <style>
    body {
      background: #000;
      color: #fff;
      font-family: monospace;
      padding: 30px;
      margin: 0;
    }
    .header {
      margin-bottom: 25px;
      border-bottom: 1px solid #333;
      padding-bottom: 10px;
    }
    .metric {
      margin: 12px 0;
      padding: 8px 0;
    }
    .up { color: #4ade80; }
    .down { color: #f87171; }
  </style>
</head>
<body>
  <div class="header">
    <svg width="200" height="60" viewBox="0 0 200 60" style="margin-right:12px; vertical-align:middle;">
      <!-- Morocco -->
      <rect x="10" y="20" width="30" height="20" fill="#003366" rx="3"/>
      <text x="25" y="34" font-size="10" text-anchor="middle" fill="#fff">MA</text>
      <!-- Arrow -->
      <line x1="45" y1="30" x2="65" y2="30" stroke="#666" stroke-width="2"/>
      <polygon points="65,30 58,26 58,34" fill="#666"/>
      <!-- Gulf Countries -->
      <rect x="75" y="10" width="24" height="16" fill="#003366" rx="2"/>
      <text x="87" y="21" font-size="9" text-anchor="middle" fill="#fff">SA</text>
      
      <rect x="75" y="28" width="24" height="16" fill="#003366" rx="2"/>
      <text x="87" y="39" font-size="9" text-anchor="middle" fill="#fff">AE</text>
      
      <rect x="75" y="46" width="24" height="16" fill="#003366" rx="2"/>
      <text x="87" y="57" font-size="9" text-anchor="middle" fill="#fff">QA</text>
    </svg>
    JIHAN LAHMAR • RABAT
  </div>

  <div id="data">LOADING...</div>

  <script>
    fetch('https://gist.githubusercontent.com/jihanlahmar/006c5d04308e66a4777c090dbf024839/raw/e312ca3855724aff445798d81913a1625fe52388/snapshot.json')
      .then(r => r.json())
      .then(d => {
        let out = `<div>LAST UPDATE: ${d.date}</div>`;
        for (const [k, v] of Object.entries(d.data)) {
          if (v.error) continue;
          const dir = v.change_1d_pct >= 0 ? 'up' : 'down';
          const s = v.change_1d_pct >= 0 ? '+' : '';
          out += `<div class="metric">${k}: ${v.price} <span class="${dir}">${s}${v.change_1d_pct}%</span></div>`;
        }
        document.getElementById('data').innerHTML = out;
      })
      .catch(e => {
        document.getElementById('data').innerHTML = '<div>OFFLINE</div>';
      });
  </script>
</body>
</html>
